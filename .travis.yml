language: node_js
node_js:
- '8'
addons:
  apt:
    packages:
    - sshpass
env:
  global:
  - secure: o5/r19I8TEY0kfLEWHB8iG7kIWBzjv8ptnBVNuknEkqACNr14jewEJdByYEMJ/htuX9KGl+SGDpieVdv1pEaWZLL4cbC/nKlP3OVx0mGxfSgAg+nKfjtPmEa0knrwWxdXFLMvHT1G5i7kgO/XFVOVPAKiEcUX+ZEJhJJaQ/8H2dWNCJiSQRBI2BeFpi+WPghj/ZcP+fc1WgC3h7vF9SARYXlSORdR05murASij97N52Fi9q2BWrcm0YUro5b2VkId/E5KE6/Twgy4qp9thV6kS+GG+Tuhd0gQnM3rywYHHPWA/r6N3ISLOoA7Wq7CBttXrZuAUXe9LOvTXaH00aQET3tKrSUc83hoJtgrs7k4tbXulMydOux/rcuT0i84KnmOiVTOmOsspxhp1x1mvS0Y5QgVOYdvIn0ExZLfGoWgtek7juUao8SQV59MzcfT6ll0aHhqArLOxl83YUFjSIpv2X4Xgna0sv/gNBqcvYPlaWaWVjSOAQUxDXwr1hvNd6m2kk/IDREMTbzt2RzGhUObZkis6xbO1IuvXrYXYl3w4zk1dS1UlkZ1QxFdFDgCKXlLGoTePXdEBQM+MtnwH6kXfu3swz7EsV4xQYoorSgqSQCc/KIdhoQYc+PQuvVSTytcMG3+IxnoytIOCMO5xhQf74H28sgWTPkr0MCDnH6gu8=
  - secure: Mtfo+VT/I50OAPHNbZRJj++kJwSsxgJEZ55h1PaD39VfIVojSFWHYukvJj5sERbqQWbUVKuIimLsMZBSH42WSig4KZcQclrJcJSTYJ2p6tQLX5wABYQxp30IzMNNKO4v5YHJjWtPIN66kr8AqfJxf4Q3vrSNHx/GrNYhh43J4hoWLh5WlQer72W5ilu9PgcagL1m3Pg07yAsGta9VXum7jGbtogzQHW9Ljm56K3MVUuX/Sx/j+ke2pzjMZSLUZp7PoYK1+gA2ON5MLyZYjnLQzV+IeVN9+i18Vi0HMZI28jqYkqniPk9MAqDfieHF5cdYd3uSFthXX7AkzbtXbzvLZ4AQQpdmdaZr1txKW1YGr7n9pz57CyLCfmpcaLGvMLslUNAt2/5TZ8Lp3kMddtRNOb4poqjgSLjwsJwly5mu+xcMbEjkGJMNe/213XvXZepGASRuvLSSf/NgtB3ivS/e6Wfa2x08uDFQBiYFUfa738gNKlvXY06mXohzY0V4aASiWLN9C9YubY4LZbcUy0CPo5gblz6IAdgqsKQemJZuTxvPR14w60B92X6TO7rWCgLoJT6AUYIvl5g3QkTOQ/Sv2LI7fiIeFzbVXYwCCJ4Lma223gop86xrM5/4D7El5m1EnMQJQgrekbouMjLwijQ6orRipQqGOhBY4qu5rXsCig=
  - secure: QdEfh/QKaBQ42VxfPipGOWLR5/f0O7HBYTIHuldUiQANHmjeZGDa6vs1n3mBSsuNr0QN+bD3N0j9XAVNwNahBpyTClQGfl6Jz95V3r7o/Ddxe1JhvnMQNsIwgXTKWV0fVkgjExjBdYpY4nf35eRECoDg2TvNErx8xx4WfyYwYRRratIlBlskcUjGEC4fLVwqI4zEn9IGqbc8lIGfvYBOr5NZVqfj/TPF6EflHHN92RD9yRCaPLRoPw7UcScwMsIOZ/N9xkg+/nGkhENZnVwE2nRDYyfGxRr4HEDFmywbatZc6MpatFNJTB9FbfhXBjqIaUc92nQYre8f0Pchh6SoAsOZNHAgKttWJU2xtVa0iovRdcy5D29Z9Ou5+crhTYlAH10YY1Kx3uFbBwcTzFqPYtEpgFAtG9H7TFTE50GTxru+gCFy4DwWzyWJK4AlHkgxz2BDJrhzjR4AJdbUGBv02w9SXvCi1CV0vDWdkwR/UPRe6SSZpJEKQTwKnC40HLOmc36NT/6ufMsGJ7xSs2FL39rUo11/Hliag1hzLhinyfsdhAdJA6J4VKVH9MJCcOry8auvmGzB6NBATfIwEYFzv3Es0gnjXxT/P9tytWwS4h71zGj9L7QmPyaT3Ley1pqTSrdxHh6e6XPOpGDR60OaKOmgUXNELICMx33NqElDB/A=
  - secure: bdzFr1JlZ+voeqDKm6Gt2zO4IEeOH5nAzkaI/FyXR8h22y1h/gY0MwJIw06x0zB5NFmzQfaqcsMkFvg0ErV/l4jdsj9bt4kZqI2XnoH3Kazlele7eTLteTUJA//6r0R75hese0Wxsle8pRf6RGKkUXNiYveDm2Fi5mgV0dJdW3Qz5garWACcXhgmkLsKMIBTW+lDJsweG470N9TbAeW1P5bgI94Pbdp2UcJyosOtnjjjRlkfgxvPhSBOitQuIzTHSu9j1wFrWdnKtsa3/C1R8fs4uSWRwu0YqWYCmkaDHlPauOhneRjt7GjOyjDSmZVOJQj1ZqbmtWz9SVmUAiL+cIsRBbIb0NUYVoN1L/5y4snpK/1ohQd63KRMzQfAIl2yKIwYg8XaYSirIPHQalKbB+YZ4GteVDjxuK0ztxFO7Tfkp4gg1K+eadOf2ylziBjEkbUPpbdZ7edrqYoesCRdTtIvZbixTpwR9xcxxckUy/N3VD4UNp0mGxcIvu+maY4LcqXVEIUEin9qHyvIQbpJx6PjG1V8gK/qHPV4XFsHAauCCqm8DxGD6TXp+VfQMTnJuHWncKznn3dVK8U/9OusxA8RNqiyWFUlTmIBufW92Ur/8vt/Y51JLVpNPMlSoJtrwyXvQozy08dZ3Tv7u0qmR6ZyPY1kKhvncCJZGNgn+f8=
  - secure: gdcroXpUPkrY5bnPgHe/kKCLxT+L82+Uor3FsuRDOQ/V5vVT/Bq3n0e7a9JygcU/FhUrMMYzEhFqe9jvj9ctb6aMveWMClhr9lZCH01+o9RsnVkn62nnQhrMMeBYxgtzrMEuIEBXECrYDka506TZk/UupI9kbgrjD+8nnSZaq8s3T4Dge7zziYQL8lUgN73baGSixr4gt5TUPMmZzZ6WsLqgNBq3AtEvv5ntGzcZ7SiQ6E/DQiQbzbgOJjPBuHoFINlxaBdaJlrsKybmv+4L4ZOOWPqm/8F6kGG2tO2TmwpN+0ErlnLZfDg7q8jbdNJgFaEQcG21bAkebVUEkz33h1RX38j67HcRos3Auz5MsvT4EnSW4CS/Ain9ZbvjUMGx6yxZ7Nya/lwXFAgXYuk6jMUyjaxAZL6Cu8vv7K2BKitrw4LgQUQVw5/h/g/Sr64IsnkjoGN3mGinLrHIokcfQ96Tl5+GHtCBc81pIFIGPuwhQ/W0gWS466Q11V1v0Rvv/WxesmX5aWChE+rIeOUFM4ZrhwMVLOiErYEW+sMpfBSNqcle7mEpWHLKoSuVlMT5LuSQk+NLIxeY6uKZbBCDMJ0AqgevbOJZgJsrRt5IDDXpZY+NOMkrhFfkisCvUGuPtMBEolWCZdqr0yhtOr08o8jjD1tDxAWBEJqVV0eljuc=
install:
- npm install
before_script:
- sleep 5
- export DISPLAY=:99.0
- sh -e /etc/init.d/xvfb start
- sleep 3
after_success:
- ls -alh
- echo "|1|kRYjSPXegK5AQG/nDXXXH06Fi88=|lcTcYVYZsfucZrxECzkn5Ur1AKk= ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBMXtTexoOC/lQ990KmhHsp1HPYs/YJTS5Zlx2U3a3l6rgeeKjY11pYxGI7mdBXgKXM0D9UcoWCVRlVET8rZcJJU=">> $HOME/.ssh/known_hosts
- sshpass -p $FTP_PASSWORD ssh $FTP_USER@$FTP_HOST -t "ls -alh; cd $TRAVISPATH; [ -d $REPOPATH ] && rm -r $REPOPATH; git clone --depth=50 --branch=master https://github.com/$REPOPATH.git $REPOPATH && cd $REPOPATH && ls -alh;"
cache:
  directories:
  - node_modules
